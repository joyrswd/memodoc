# 開発計画
短文メモからブログ文書を生成するサービスを作成する

## 要求
- 日々の思い付きや考察をメモとして保存したい
- メモは作成と削除のみで投降後の変更はできないようにしたい
- メモはTwitterにも投稿できるようにしたい
- いつ何のメモを取ったか検索できるようにしたい
- タグ付けでメモを検索絞り込みできるようにしたい
- 過去のメモの内容を組み合わせて1つの文書を作成したい
- 文書はメモからの自動生成のみで任意作成はできないようにする

## 要件
- ユーザー認証機能
    - ユーザー作成画面からユーザー作成を行える
    - ユーザーはパスワードの再設定を行える
    - ユーザーのメールアドレスは一度存在確認が行われる
- メモの作成
    - メモのタイトルと内容を入力できるフォームを提供する
    - 入力されたメモはデータベースに保存される
    - メモ作成後にtwitterに投稿できるようにする
    - メモの内容はtwitter準拠の文字数制限にする
- メモの削除
    - メモ一覧から削除したいメモを選択し、削除ボタンを押す
    - 選択されたメモはデータベースから論理削除される
- タグ付け機能
    - メモ投稿時にタグ付けをしてデータベースに保存できる
    - メモ投降後でもタグの変更は行える
    - タグは20文字までとする
    - 記号のは使用不可とする
- メモの一覧検索
    - 今までに自身が投降したメモが作成日時降順で表示される
    - 任意のキーワードでメモを絞り込むことができる
    - タグでメモを絞り込むことができる
- メモの内容を組み合わせて文書を作成する機能
    - 一覧、検索画面などで文書生成の素材にしたいメモをチェックする
    - チェックされたメモの一覧画面で、順番などを調整して生成ボタンを押す
    - メモの内容が組み合わされ新しい文書が作成される
    - タイトルも自動生成されるようにする
- 時間がかかる文書生成をバックグラウンド処理にする
    - 文書生成をバックグラウンドジョブ（キュー処理）にする
    - 処理の進捗がわかる画面を用意する
    - 処理に失敗した場合再実行できるようにする
- 文書一覧検索機能
    - 文書のタイトルから検索できるようにする
    - 文書の本文から検索できるようにする
    - 文書の作成日時から検索できるようにする
- 文書編集機能
    - 文書のタイトルを編集する機能
    - 文書の本文を編集する機能

## 画面遷移図
```mermaid
graph LR

    A[ログイン]
    B1[メモ作成]
    B2[メモ表示&タグ変更]
    B3(メモ削除)
    B4(Twitter投降)
    C1(タグ登録)
    C2(タグ変更)
    D1(メモ検索)
    D2(タグ絞り込み)
    D3(作成日時絞り込み)
    E1[文書一覧]
    E3[文書編集]
    E4(文書削除)
    F1(素材メモ追加)
    F2[素材メモ一覧]
    F3[素材メモ削除]
    G1[ジョブ一覧]
    G2(ジョブ削除)
    G3(ジョブ再実行)
    G4(ジョブ登録)
    H(素材メモから文書生成)
    I[ユーザー登録]
    J[パスワードリマインダー]
    K[操作マニュアル]

    subgraph Navi[ナビゲーション]
        Navi1(メモ作成リンク)
        Navi2(メモ一覧リンク)
        Navi3(文書生成リンク)
        Navi5(ジョブ一覧リンク)
        Navi4(文書一覧リンク)
    end
    subgraph C[タグ編集]
        C1
        C2
    end
    subgraph D[メモ一覧]
        D1
        D2
        D3
    end
    subgraph E[文書管理]
        E1
        E3
        E4
    end
    subgraph F[文書生成]
        F1
        F2
        F3
    end
    subgraph G[ジョブ管理]
        G1
        G2
        G3
        G4
    end
    subgraph ログイン後画面
        Navi
        B1
        B2
        B3
        B4
        C
        D
        E
        F
        G
        H
    end

    A ----> B1
    B1 .-o C1
    B2 .-o B3
    B1 .-o B4
    B2 .-o C
    B2 .-o F1
    D --> B2
    D .-o F1
    E1 --> E3
    E1 .-o E4
    F2 .-o F3
    F2 --> G4
    G1 .-o G2
    G1 .-o G3
    G3 --> G4
    G4 --> H
    H .-o E
    A .-> I
    A .-> J
    A .-> K
    Navi1 --> B1
    Navi2 --> D
    Navi3 --> F2
    Navi4 --> E1
    Navi5 --> G1
```
